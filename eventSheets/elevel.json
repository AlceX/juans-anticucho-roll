{
	"name": "eLevel",
	"events": [
		{
			"eventType": "variable",
			"name": "TILE_SIZE",
			"type": "number",
			"initialValue": "80",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 685732946521716
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "eLevel/Array Initialization",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Setting the board state array."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 701185680930988
						}
					],
					"actions": [
						{
							"id": "set-at-xy",
							"objectClass": "arr_board_state",
							"sid": 360948004517133,
							"parameters": {
								"x": "floor(spr_player.X / TILE_SIZE)",
								"y": "floor(spr_player.Y / TILE_SIZE)",
								"value": "\"X\""
							}
						}
					],
					"sid": 301181840353013,
					"children": [
						{
							"eventType": "variable",
							"name": "x",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 191107343116003
						},
						{
							"eventType": "variable",
							"name": "y",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 111470399000392
						},
						{
							"eventType": "variable",
							"name": "diff",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 542671995130561
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 275262998573548,
									"parameters": {
										"object": "spr_anticucho"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 134309304937783,
									"parameters": {
										"variable": "x",
										"value": "spr_anticucho.X / TILE_SIZE"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 641297643240622,
									"parameters": {
										"variable": "y",
										"value": "spr_anticucho.Y / TILE_SIZE"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 675294643271619,
									"parameters": {
										"variable": "diff",
										"value": "Function.Call(\"eLevel/anticucho_orientation_diff\", spr_anticucho.UID)"
									}
								}
							],
							"sid": 679202613906462,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-within-angle",
											"objectClass": "spr_anticucho",
											"sid": 215523211790425,
											"parameters": {
												"within": "0.5",
												"angle": "90"
											}
										},
										{
											"id": "is-within-angle",
											"objectClass": "spr_anticucho",
											"sid": 567183745984265,
											"parameters": {
												"within": "0.5",
												"angle": "180"
											}
										}
									],
									"actions": [
										{
											"id": "subtract-from-eventvar",
											"objectClass": "System",
											"sid": 684412812024774,
											"parameters": {
												"variable": "x",
												"value": "1"
											}
										}
									],
									"sid": 460500698685832,
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-within-angle",
											"objectClass": "spr_anticucho",
											"sid": 481414146294703,
											"parameters": {
												"within": "0.5",
												"angle": "270"
											}
										},
										{
											"id": "is-within-angle",
											"objectClass": "spr_anticucho",
											"sid": 767246370401275,
											"parameters": {
												"within": "0.5",
												"angle": "180"
											}
										}
									],
									"actions": [
										{
											"id": "subtract-from-eventvar",
											"objectClass": "System",
											"sid": 315110381098420,
											"parameters": {
												"variable": "y",
												"value": "1"
											}
										}
									],
									"sid": 240940651944027,
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 634721112728160,
											"parameters": {
												"name": "\"\"",
												"start-index": "0",
												"end-index": "Function.Call(\"eLevel/anticucho_size\", spr_anticucho.UID) - 1"
											}
										}
									],
									"actions": [
										{
											"id": "set-at-xy",
											"objectClass": "arr_board_state",
											"sid": 833593653031054,
											"parameters": {
												"x": "x",
												"y": "y",
												"value": "1"
											}
										}
									],
									"sid": 479894953431617,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-within-angle",
													"objectClass": "spr_anticucho",
													"sid": 655924313804179,
													"parameters": {
														"within": "0.5",
														"angle": "0"
													}
												},
												{
													"id": "is-within-angle",
													"objectClass": "spr_anticucho",
													"sid": 259717045178800,
													"parameters": {
														"within": "0.5",
														"angle": "180"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 687747960591341,
													"parameters": {
														"variable": "y",
														"value": "diff"
													}
												}
											],
											"sid": 526576124301499,
											"isOrBlock": true
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-within-angle",
													"objectClass": "spr_anticucho",
													"sid": 888394429636032,
													"parameters": {
														"within": "0.5",
														"angle": "90"
													}
												},
												{
													"id": "is-within-angle",
													"objectClass": "spr_anticucho",
													"sid": 881714090863993,
													"parameters": {
														"within": "0.5",
														"angle": "270"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 677021491232072,
													"parameters": {
														"variable": "x",
														"value": "diff"
													}
												}
											],
											"sid": 602603744283466,
											"isOrBlock": true
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 587643304039600,
							"parameters": {
								"name": "\"eLevel/anticucho_orientation_diff\""
							}
						}
					],
					"actions": [],
					"sid": 210698247449793,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "spr_anticucho",
									"sid": 437693685918787,
									"parameters": {
										"unique-id": "Function.Param(0)"
									}
								}
							],
							"actions": [],
							"sid": 681271266855998,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-within-angle",
											"objectClass": "spr_anticucho",
											"sid": 471878747521913,
											"parameters": {
												"within": "0.5",
												"angle": "0"
											}
										},
										{
											"id": "is-within-angle",
											"objectClass": "spr_anticucho",
											"sid": 737935523524901,
											"parameters": {
												"within": "0.5",
												"angle": "270"
											}
										}
									],
									"actions": [
										{
											"id": "set-return-value",
											"objectClass": "Function",
											"sid": 688547630438306,
											"parameters": {
												"value": "1"
											}
										}
									],
									"sid": 614327595576636,
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-within-angle",
											"objectClass": "spr_anticucho",
											"sid": 663743585645347,
											"parameters": {
												"within": "0.5",
												"angle": "90"
											}
										},
										{
											"id": "is-within-angle",
											"objectClass": "spr_anticucho",
											"sid": 478357886633336,
											"parameters": {
												"within": "0.5",
												"angle": "180"
											}
										}
									],
									"actions": [
										{
											"id": "set-return-value",
											"objectClass": "Function",
											"sid": 141020238365847,
											"parameters": {
												"value": "-1"
											}
										}
									],
									"sid": 209014624420639,
									"isOrBlock": true
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 314635431063586,
							"parameters": {
								"name": "\"eLevel/anticucho_size\""
							}
						}
					],
					"actions": [],
					"sid": 568967712862011,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "spr_anticucho",
									"sid": 640621502746856,
									"parameters": {
										"unique-id": "Function.Param(0)"
									}
								}
							],
							"actions": [],
							"sid": 270635074122253,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "spr_anticucho",
											"sid": 192403740979305,
											"parameters": {
												"animation": "\"3_piece\""
											}
										}
									],
									"actions": [
										{
											"id": "set-return-value",
											"objectClass": "Function",
											"sid": 130907995065723,
											"parameters": {
												"value": "3"
											}
										}
									],
									"sid": 585770940253889
								}
							]
						}
					]
				}
			],
			"sid": 993588823182431
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "eLevel/Movement",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 549466962069947
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "spr_player",
							"sid": 777789128484093,
							"parameters": {
								"instance-variable": "world_x",
								"value": "Self.X"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "spr_player",
							"sid": 389700610575739,
							"parameters": {
								"instance-variable": "world_y",
								"value": "Self.Y"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "spr_player",
							"sid": 823231739932593,
							"parameters": {
								"instance-variable": "grid_x",
								"value": "floor(Self.X / TILE_SIZE)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "spr_player",
							"sid": 454316117449859,
							"parameters": {
								"instance-variable": "grid_y",
								"value": "floor(Self.Y / TILE_SIZE)"
							}
						}
					],
					"sid": 516190287929182
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 876002199022630,
							"parameters": {
								"first-value": "distance(spr_player.X, spr_player.Y, spr_player.world_x, spr_player.world_y)",
								"comparison": 4,
								"second-value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "spr_player",
							"sid": 729330113440269,
							"parameters": {
								"x": "lerp(Self.X, Self.world_x, 0.35)",
								"y": "lerp(Self.Y, Self.world_y, 0.35)"
							}
						}
					],
					"sid": 196332893017397
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 328687254337826
						}
					],
					"actions": [],
					"sid": 808395436429547,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 135922857355899,
									"parameters": {
										"key": 38
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "spr_player",
									"sid": 713952163966567,
									"parameters": {
										"animation": "\"up\"",
										"from": "beginning"
									}
								}
							],
							"sid": 506393209893463,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 584972815396157,
											"parameters": {
												"first-value": "Function.Call(\"eLevel/Movement.is_space_valid\", spr_player.grid_x, spr_player.grid_y - 1)",
												"comparison": 0,
												"second-value": "\"true\""
											}
										}
									],
									"actions": [
										{
											"id": "set-at-xy",
											"objectClass": "arr_board_state",
											"sid": 693517479481205,
											"parameters": {
												"x": "spr_player.grid_x",
												"y": "spr_player.grid_y",
												"value": "0"
											}
										},
										{
											"id": "set-at-xy",
											"objectClass": "arr_board_state",
											"sid": 438952651073025,
											"parameters": {
												"x": "spr_player.grid_x",
												"y": "spr_player.grid_y - 1",
												"value": "\"X\""
											}
										},
										{
											"id": "subtract-from-instvar",
											"objectClass": "spr_player",
											"sid": 178662975041530,
											"parameters": {
												"instance-variable": "world_y",
												"value": "TILE_SIZE"
											}
										},
										{
											"id": "subtract-from-instvar",
											"objectClass": "spr_player",
											"sid": 363970366360648,
											"parameters": {
												"instance-variable": "grid_y",
												"value": "1"
											}
										}
									],
									"sid": 302527108274254
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 284382926620138,
									"parameters": {
										"key": 37
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "spr_player",
									"sid": 316488700861742,
									"parameters": {
										"animation": "\"left\"",
										"from": "beginning"
									}
								}
							],
							"sid": 233800982769678,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 635284982178081,
											"parameters": {
												"first-value": "Function.Call(\"eLevel/Movement.is_space_valid\", spr_player.grid_x - 1, spr_player.grid_y)",
												"comparison": 0,
												"second-value": "\"true\""
											}
										}
									],
									"actions": [
										{
											"id": "set-at-xy",
											"objectClass": "arr_board_state",
											"sid": 530986383511822,
											"parameters": {
												"x": "spr_player.grid_x",
												"y": "spr_player.grid_y",
												"value": "0"
											}
										},
										{
											"id": "set-at-xy",
											"objectClass": "arr_board_state",
											"sid": 175977519162152,
											"parameters": {
												"x": "spr_player.grid_x - 1",
												"y": "spr_player.grid_y",
												"value": "\"X\""
											}
										},
										{
											"id": "subtract-from-instvar",
											"objectClass": "spr_player",
											"sid": 255092889216059,
											"parameters": {
												"instance-variable": "world_x",
												"value": "TILE_SIZE"
											}
										},
										{
											"id": "subtract-from-instvar",
											"objectClass": "spr_player",
											"sid": 580835936422810,
											"parameters": {
												"instance-variable": "grid_x",
												"value": "1"
											}
										}
									],
									"sid": 454486070658021
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 411349399936234,
									"parameters": {
										"key": 40
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "spr_player",
									"sid": 940550054749509,
									"parameters": {
										"animation": "\"down\"",
										"from": "beginning"
									}
								}
							],
							"sid": 203738342581323,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 865313383117536,
											"parameters": {
												"first-value": "Function.Call(\"eLevel/Movement.is_space_valid\", spr_player.grid_x, spr_player.grid_y + 1)",
												"comparison": 0,
												"second-value": "\"true\""
											}
										}
									],
									"actions": [
										{
											"id": "set-at-xy",
											"objectClass": "arr_board_state",
											"sid": 550170034973468,
											"parameters": {
												"x": "spr_player.grid_x",
												"y": "spr_player.grid_y",
												"value": "0"
											}
										},
										{
											"id": "set-at-xy",
											"objectClass": "arr_board_state",
											"sid": 488040952445968,
											"parameters": {
												"x": "spr_player.grid_x",
												"y": "spr_player.grid_y + 1",
												"value": "\"X\""
											}
										},
										{
											"id": "add-to-instvar",
											"objectClass": "spr_player",
											"sid": 733303754975482,
											"parameters": {
												"instance-variable": "world_y",
												"value": "TILE_SIZE"
											}
										},
										{
											"id": "add-to-instvar",
											"objectClass": "spr_player",
											"sid": 710314080983682,
											"parameters": {
												"instance-variable": "grid_y",
												"value": "1"
											}
										}
									],
									"sid": 670208295013625
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 320905006125024,
									"parameters": {
										"key": 39
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "spr_player",
									"sid": 210321540221384,
									"parameters": {
										"animation": "\"right\"",
										"from": "beginning"
									}
								}
							],
							"sid": 218799807201948,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 327066899276854,
											"parameters": {
												"first-value": "Function.Call(\"eLevel/Movement.is_space_valid\", spr_player.grid_x + 1, spr_player.grid_y)",
												"comparison": 0,
												"second-value": "\"true\""
											}
										}
									],
									"actions": [
										{
											"id": "set-at-xy",
											"objectClass": "arr_board_state",
											"sid": 300473170167941,
											"parameters": {
												"x": "spr_player.grid_x",
												"y": "spr_player.grid_y",
												"value": "0"
											}
										},
										{
											"id": "set-at-xy",
											"objectClass": "arr_board_state",
											"sid": 371071410530986,
											"parameters": {
												"x": "spr_player.grid_x + 1",
												"y": "spr_player.grid_y",
												"value": "\"X\""
											}
										},
										{
											"id": "add-to-instvar",
											"objectClass": "spr_player",
											"sid": 954673715643760,
											"parameters": {
												"instance-variable": "world_x",
												"value": "TILE_SIZE"
											}
										},
										{
											"id": "add-to-instvar",
											"objectClass": "spr_player",
											"sid": 483282867612903,
											"parameters": {
												"instance-variable": "grid_x",
												"value": "1"
											}
										}
									],
									"sid": 771509269164304
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 704090785586798,
							"parameters": {
								"name": "\"eLevel/Movement.is_space_valid\""
							}
						}
					],
					"actions": [],
					"sid": 959225695394611,
					"children": [
						{
							"eventType": "variable",
							"name": "x",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 902650965080459
						},
						{
							"eventType": "variable",
							"name": "y",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 811135559955654
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 122371387059548,
									"parameters": {
										"variable": "x",
										"value": "Function.Param(0)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 597689894021061,
									"parameters": {
										"variable": "y",
										"value": "Function.Param(1)"
									}
								}
							],
							"sid": 259332189999146
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-between-values",
									"objectClass": "System",
									"sid": 424675009889998,
									"parameters": {
										"value": "x",
										"lower-bound": "0",
										"upper-bound": "arr_board_state.Width - 1"
									}
								},
								{
									"id": "is-between-values",
									"objectClass": "System",
									"sid": 519197367113283,
									"parameters": {
										"value": "y",
										"lower-bound": "0",
										"upper-bound": "arr_board_state.Height - 1"
									}
								}
							],
							"actions": [],
							"sid": 607026215371497,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-at-xy",
											"objectClass": "arr_board_state",
											"sid": 433708305616420,
											"parameters": {
												"x": "x",
												"y": "y",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-return-value",
											"objectClass": "Function",
											"sid": 194589797160482,
											"parameters": {
												"value": "\"true\""
											}
										}
									],
									"sid": 927525611967121
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 824457516836248
										}
									],
									"actions": [
										{
											"id": "set-return-value",
											"objectClass": "Function",
											"sid": 564277576049844,
											"parameters": {
												"value": "\"false\""
											}
										}
									],
									"sid": 584286585718343
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 182975638271146
								}
							],
							"actions": [
								{
									"id": "set-return-value",
									"objectClass": "Function",
									"sid": 382621170715137,
									"parameters": {
										"value": "\"false\""
									}
								}
							],
							"sid": 846557966753700
						}
					]
				}
			],
			"sid": 341924505859066
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "eLevel/Debug",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 837186530518643
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "debug_text",
							"sid": 870963983964347,
							"parameters": {
								"text": "\"\""
							}
						}
					],
					"sid": 909248946277950,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 143314354605696,
									"parameters": {
										"name": "\"y\"",
										"start-index": "0",
										"end-index": "arr_board_state.Height - 1"
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "debug_text",
									"sid": 927696109722019,
									"parameters": {
										"text": "newline"
									}
								}
							],
							"sid": 440441063883906,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 184965236862550,
											"parameters": {
												"name": "\"x\"",
												"start-index": "0",
												"end-index": "arr_board_state.Width - 1"
											}
										}
									],
									"actions": [
										{
											"id": "append-text",
											"objectClass": "debug_text",
											"sid": 737833107368580,
											"parameters": {
												"text": "arr_board_state.At(loopindex(\"x\"), loopindex(\"y\"))"
											}
										}
									],
									"sid": 433571220851863
								}
							]
						}
					]
				}
			],
			"sid": 847828096826207
		}
	],
	"sid": 583369914491107
}